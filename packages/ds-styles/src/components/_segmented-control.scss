@use "../tokens" as tokens;

.#{tokens.$prefix}-segmented-control {
  // Base styles
  display: inline-flex;
  gap: tokens.$spacing-1;
  padding: tokens.$spacing-1;
  background-color: var(--wg-segmented-bg, #{tokens.$background-muted});
  border: 1px solid var(--wg-segmented-border, #{tokens.$border});
  border-radius: tokens.$radius-8;
  cursor: default;

  // Full width support
  &[data-full-width] {
    width: 100%;
  }

  // ===================
  // Sizes
  // ===================
  &[data-size="sm"] {
    padding: tokens.$spacing-1;
    gap: tokens.$spacing-1;

    .#{tokens.$prefix}-segmented-control__item {
      height: 28px;
      padding: tokens.$spacing-0 tokens.$spacing-2;
      font-size: tokens.$font-size-12;
    }
  }

  &[data-size="md"] {
    padding: tokens.$spacing-1;
    gap: tokens.$spacing-1;

    .#{tokens.$prefix}-segmented-control__item {
      height: 36px;
      padding: tokens.$spacing-1 tokens.$spacing-3;
      font-size: tokens.$font-size-13;
    }
  }

  &[data-size="lg"] {
    padding: tokens.$spacing-2;
    gap: tokens.$spacing-2;

    .#{tokens.$prefix}-segmented-control__item {
      height: 44px;
      padding: tokens.$spacing-2 tokens.$spacing-4;
      font-size: tokens.$font-size-14;
    }
  }
}

.#{tokens.$prefix}-segmented-control__item {
  // Reset
  appearance: none;
  border: none;
  background: none;
  margin: 0;
  padding: 0;
  cursor: pointer;

  // Base styles
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex: 0 1 auto;
  border-radius: tokens.$radius-6;
  font-family: tokens.$font-family-default;
  font-weight: tokens.$font-weight-medium;
  line-height: tokens.$line-height-tight;
  text-decoration: none;
  white-space: nowrap;
  user-select: none;
  transition:
    background-color tokens.$transition-fast,
    color tokens.$transition-fast,
    box-shadow tokens.$transition-fast;

  // CSS custom properties for colors
  color: var(--wg-segment-item-color, #{tokens.$text-muted});
  background-color: var(--wg-segment-item-bg, transparent);

  // Focus state
  &:focus-visible {
    outline: tokens.$focus-ring-width solid tokens.$focus-ring-color;
    outline-offset: tokens.$focus-ring-offset;
  }

  // Disabled state
  &:disabled,
  &[data-state="disabled"] {
    cursor: not-allowed;
    opacity: 0.5;
  }

  // Unselected hover state
  &:not([data-state="selected"]):hover:not(:disabled):not([data-state="disabled"]) {
    --wg-segment-item-bg: #{tokens.$background-subtle};
  }

  // Selected state
  &[data-state="selected"] {
    --wg-segment-item-bg: #{tokens.$background};
    --wg-segment-item-color: #{tokens.$text};
    box-shadow: tokens.$shadow-sm;

    &:not(:disabled):not([data-state="disabled"]) {
      &:hover {
        --wg-segment-item-bg: #{tokens.$background};
      }

      &:active {
        box-shadow: none;
      }
    }
  }

  // Full width items
  [data-full-width] & {
    flex: 1;
  }
}
