@use "../tokens" as tokens;

.#{tokens.$prefix}-spinner {
  display: inline-block;
  border-radius: tokens.$radius-full;
  border-style: solid;
  border-color: var(--wg-spinner-track, #{tokens.$border});
  border-top-color: var(--wg-spinner-color, #{tokens.$primary});
  animation: spinner-rotate 0.8s linear infinite;

  // ===================
  // Sizes
  // ===================
  &[data-size="xs"] {
    width: 16px;
    height: 16px;
    border-width: 2px;
  }

  &[data-size="sm"] {
    width: 20px;
    height: 20px;
    border-width: 2px;
  }

  &[data-size="md"] {
    width: 28px;
    height: 28px;
    border-width: 3px;
  }

  &[data-size="lg"] {
    width: 40px;
    height: 40px;
    border-width: 4px;
  }

  // ===================
  // Colors
  // ===================
  &[data-color="primary"] {
    --wg-spinner-color: #{tokens.$primary};
  }

  &[data-color="secondary"] {
    --wg-spinner-color: #{tokens.$secondary};
  }

  &[data-color="muted"] {
    --wg-spinner-color: #{tokens.$text-muted};
    --wg-spinner-track: #{tokens.$border};
  }

  &[data-color="current"] {
    --wg-spinner-color: currentColor;
    --wg-spinner-track: currentColor;
    border-color: currentColor;
    opacity: 0.25;
    border-top-color: currentColor;
    position: relative;

    &::before {
      content: "";
      position: absolute;
      inset: -3px;
      border-radius: inherit;
      border: inherit;
      border-color: transparent;
      border-top-color: currentColor;
      opacity: 1;
    }
  }
}

@keyframes spinner-rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
